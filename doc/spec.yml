contract: 0.1 # contract版本信息

package: com.contract.service.user # 包名

dependencies: # 包依赖 (使用其他包的资源)
  - name: com.contract.service.a.account
    version: 0.1
  - name: com.contract.service.b.account
    version: 0.1
    alias: accountb # 别名

info: #包信息
  version: 1.0 # 版本
  title: 用户服务 #标题
  description: 用户服务描述信息 #描述

schemas: # 数据定义
  Sex: # 枚举
    title: 性别
    description: 用户性别只能是男或女?
    enums: # 枚举列表
    - key: male
      value: 1
      title: 男
    - key: female
      value: 2
      title: 女
  UserInfo: # 结构体
    title: 用户信息
    props: # 属性列表
      - name: userName
        title: 用户名
        type: String
        required: true
        checks:
          - name: chars
      - name: sex
        title: 用户性别
        type: Sex
        optional: false
      - name: tags
        title: 用户标签列表
        type: StringList
  UserInfoList: # 列表
    title: 用户列表
    list: UserInfo
  StringList: #字符串列表
    title: 字符串列表
    list: String
  LoginRequest:
    props:
      - field: userName
        checks:
          - name: chars
      - name: password
        title: 密码
        type: String
      - name: email
        title: 邮箱
        type: String
        format: email

fields: # 字段单独定义(资源复用)
  - name: userName
    title: 用户名
    type: String

modules: # 模块定义
  - name: Account
    title: 账户服务
    auth: true
  - name: Auth
    title: 授权服务
    method: POST # 默认的请求方法

services: # 服务定义
  - name: Login
    module: Account
    auth: false
    title: 登录
    method: POST
    path: account/:login
    request: LoginRequest
    response: accountb.LoginResponse
